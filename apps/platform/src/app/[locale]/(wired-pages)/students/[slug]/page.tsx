// Auto-generated by page-scaffold command
// Feature: listStudentInteractions

import SingleStudentServerComponent from '../../../../../lib/infrastructure/server/pages/single-student-rsc';
import { TLocale } from '@maany_shr/e-class-translations';

export default async function Page({
    params: paramsPromise,
        searchParams: searchParamsPromise,
    }: {
        params: Promise<{ locale: TLocale; slug: string }>;
        searchParams: Promise<{ [key: string]: string | string[] | undefined }>;
    }) {
        const params = await paramsPromise;
        const searchParams = await searchParamsPromise;

        const { locale, slug } = params;
        let tab = searchParams.tab;
        let studentId = searchParams.studentId;
        let courseSlug = searchParams.courseSlug;

        if (tab && Array.isArray(tab)) {
            tab = undefined;
        }

        if (studentId && Array.isArray(studentId)) {
            studentId = undefined;
        }

        if (courseSlug && Array.isArray(courseSlug)) {
            courseSlug = undefined;
        }

        const studentIdNum = studentId ? parseInt(studentId, 10) : 0;
        const courseSlugStr = courseSlug || '';

        return <SingleStudentServerComponent slug={slug} locale={locale} tab={tab} studentId={studentIdNum} courseSlug={courseSlugStr} />;
    }
    
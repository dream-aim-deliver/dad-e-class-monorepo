// Auto-generated by page-scaffold command v2
// Notion: https://www.notion.so/Group-Workspace-Coach-workspace-2245a7432d01807c8606d25a58943c2e
// User Type: Coach
// Usecases: saveGroupNotes, getGroupNotes, listGroupAssignments, listGroupMembers, getGroupNextCoachingSession

import { TLocale } from '@maany_shr/e-class-translations';
import GroupWorkspaceCoachServerComponent from '../../../../../../../../lib/infrastructure/server/pages/group-workspace-coach-rsc';
import { notFound } from 'next/navigation';

export default async function GroupWorkspaceCoachPage({
    searchParams: searchParamsPromise,
    params: paramsPromise,
}: {
    searchParams: Promise<{ [key: string]: string | string[] | undefined }>;
    params: Promise<{
        locale: string;
        course_slug: string;
        group_id: string;
    }>;
}) {
    const searchParams = await searchParamsPromise;
    const params = await paramsPromise;

    const locale = params.locale as TLocale;
    const { course_slug, group_id } = params;

    // Parse group_id to integer
    const groupIdInt = parseInt(group_id, 10);

    // Validate that ID is a valid number
    if (isNaN(groupIdInt)) {
        notFound();
    }

    return (
        <GroupWorkspaceCoachServerComponent
            locale={locale}
            courseSlug={course_slug}
            groupId={groupIdInt}
        />
    );
}

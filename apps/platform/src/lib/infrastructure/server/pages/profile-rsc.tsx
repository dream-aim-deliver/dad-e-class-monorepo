// Auto-generated by page-scaffold command
// TSK: TSK-1
// Features: listTopics, getProfessionalProfile, saveProfessionalProfile
// Route: /workspace/profile

import { HydrateClient, trpc, prefetch } from '../config/trpc/cms-server';
import { Suspense } from 'react';
import { DefaultLoading } from '@maany_shr/e-class-ui-kit';
import Profile from '../../client/pages/profile';

interface ProfileProps {
	locale: string;
}

export default async function ProfileServerComponent(props: ProfileProps) {
	await Promise.all([
		prefetch(trpc.getProfessionalProfile.queryOptions({})),
		prefetch(trpc.listTopics.queryOptions({})),
	]);

	return (
		<>
			<HydrateClient>
				<Suspense fallback={<DefaultLoading locale={props.locale as any} variant="minimal" />}>
					<Profile locale={props.locale} />
				</Suspense>
			</HydrateClient>
		</>
	);
}

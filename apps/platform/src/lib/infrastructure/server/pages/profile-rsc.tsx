// Auto-generated by page-scaffold command
// TSK: TSK-1
// Features: listTopics, getProfessionalProfile, saveProfessionalProfile
// Route: /workspace/profile

import { HydrateClient, trpc } from '../config/trpc/cms-server';
import { Suspense } from 'react';
import { DefaultLoading } from '@maany_shr/e-class-ui-kit';
import Profile from '../../client/pages/profile';

interface ProfileProps {
	locale: string;
}

export default async function ProfileServerComponent(props: ProfileProps) {
	// Prefetch data for the profile page
	// await Promise.all([
	//	trpc.user.getProfessionalProfile.prefetch(),
	//	trpc.expertiseTopic.listTopics.prefetch(),
	// ]);

	return (
		<>
			<HydrateClient>
				<Suspense fallback={<DefaultLoading locale={props.locale as any} variant="minimal" />}>
					<Profile locale={props.locale} />
				</Suspense>
			</HydrateClient>
		</>
	);
}

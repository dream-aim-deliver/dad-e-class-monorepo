'use client';

// Auto-generated by page-scaffold command v2
// Notion: https://www.notion.so/Activity-history-Notifications-Page-2245a7432d01800e8e33d5d245ae9c4e
// Usecases from Notion: listNotifications, markNotificationsAsRead
// Features from Notion: FEAT-5 (listNotifications), FEAT-95 (markNotificationsAsRead)
// API Endpoints from Notion:
// User Types from Notion: Accessible to all logged-in users
// Figma: https://www.figma.com/design/8KEwRuOoD5IgxTtFAtLlyS/Just_Do_Ad-1.2?node-id=8450-61105&t=z3N6GyoO667IGfSR-4
// Comment: Activity history view uses the already made NotificationGrid

import { useLocale, useTranslations } from 'next-intl';
import { TLocale } from '@maany_shr/e-class-translations';
import { useSession } from 'next-auth/react';
import { DefaultError } from '@maany_shr/e-class-ui-kit';

interface ActivityHistoryProps {
  locale: TLocale;
}

export default function ActivityHistory({ locale }: ActivityHistoryProps) {
  const t = useTranslations('pages.activityHistory');
  const currentLocale = useLocale() as TLocale;
  const sessionDTO = useSession();
  const session = sessionDTO.data;
  const isLoggedIn = !!session;

  // Authentication check - require logged-in user (any role)
  if (!isLoggedIn) {
    return (
      <DefaultError
        locale={locale}
        title={t('error.unauthorized.title')}
        description={t('error.unauthorized.description')}
      />
    );
  }

  return (
    <div className="flex flex-col space-y-5 px-30">
      <div>
        <h1>{t('title')}</h1>
        <p>{t('description')}</p>
      </div>

      {/* Features from Notion:
        - FEAT-5 (listNotifications)
        - FEAT-95 (markNotificationsAsRead)
      */}
      {/* UI Components from Notion:
        - NotificationGrid (already exists)
      */}
    </div>
  );
}

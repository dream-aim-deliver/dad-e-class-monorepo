'use client';

// Auto-generated by page-scaffold command v2 - Refactored
// Notion: https://www.notion.so/Order-history-Orders-Payments-Student-workspace-6bb2794c7331418e8fbbf83c40dcb1e5
// Usecases from Notion: listUserIncomingTransactions, generateInvoicePdf
// Features from Notion: View transaction history, Download/Generate invoices
// User Types from Notion: Student, Coach
// Figma: https://www.figma.com/design/8KEwRuOoD5IgxTtFAtLlyS/Just_Do_Ad-1.2?node-id=7709-215954

import { useLocale, useTranslations } from 'next-intl';
import { TLocale } from '@maany_shr/e-class-translations';
import { trpc } from '../trpc/cms-client';

interface OrderHistoryTabProps {
  locale: TLocale;
}

export default function OrderHistoryTab({ locale }: OrderHistoryTabProps) {
  const t = useTranslations('pages.orderHistory');
  const currentLocale = useLocale() as TLocale;

  // TRPC query for listUserIncomingTransactions usecase
  const [transactionsResponse] = trpc.listUserIncomingTransactions.useSuspenseQuery({});

  return (
    <div className="flex flex-col space-y-5">
      {/* Features from Notion:
        - View transaction history
        - Download/Generate invoices
      */}
      {/* TODO: Implement client-side generateInvoicePdf */}
      {/* TODO: Add transaction table/grid with columns: transactionId, date, amount, status, type */}
      {/* TODO: Add generate/download invoice buttons */}
    </div>
  );
}

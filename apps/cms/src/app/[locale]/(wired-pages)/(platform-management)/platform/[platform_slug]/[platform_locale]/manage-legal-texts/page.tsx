// Auto-generated by page-scaffold command v2
// Notion: https://www.notion.so/CMS-Manage-Legal-Texts-5f461ddb9426476aa3816c88dea1ec9e
// Route: /[locale]/[platform_slug]/[language]/manage-legal-texts

import { TLocale } from '@maany_shr/e-class-translations';
import ManageLegalTextsServerComponent from '../../../../../../../../lib/infrastructure/server/pages/manage-legal-texts-rsc';

export default async function ManageLegalTextsPage({
  searchParams: searchParamsPromise,
  params: paramsPromise,
}: {
  searchParams: Promise<{ [key: string]: string | string[] | undefined }>;
  params: Promise<{ locale: string; platform_slug: string; platform_locale: string }>;
}) {
  const searchParams = await searchParamsPromise;
  const params = await paramsPromise;

  const tab = searchParams.tab;

  // Validate tab parameter
  const validTabs = ['impressum', 'privacy-policy', 'terms-of-use'];
  const activeTab = validTabs.includes(tab as string) ? (tab as string) : validTabs[0];

  return (
    <ManageLegalTextsServerComponent
      locale={params.locale as TLocale}
      platformSlug={params.platform_slug}
      platformLocale={params.platform_locale as TLocale}
      initialTab={activeTab}
    />
  );
}

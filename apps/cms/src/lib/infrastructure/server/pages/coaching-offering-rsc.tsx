// Auto-generated by page-scaffold command
// Notion: https://www.notion.so/CMS-Coaching-Offering-8867dde6ea234a6898dd28783eed06ed
// Features: listCoachingOfferings, createCoachingOffering, updateCoachingOffering, deleteCoachingOffering
// UI Components: SideMenu (Sidebar Navigation), Nav bar / Header, CoachingOfferingList, New, Edit & Delete Coaching Offering Modal
// User Types: CMS

import {
    HydrateClient,
    getServerTRPC,
    prefetch,
} from '../config/trpc/cms-server';
import { Suspense } from 'react';
import DefaultLoadingWrapper from '../../client/wrappers/default-loading';
import CoachingOffering from '../../client/pages/coaching-offering';

interface CoachingOfferingProps {
    locale: string;
    platformSlug: string;
    language: string;
    platformLocale: string;
}

export default async function CoachingOfferingServerComponent(
    props: CoachingOfferingProps,
) {
    const trpc = getServerTRPC({
        platform_slug: props.platformSlug,
        platform_locale: props.platformLocale,
    });
    await Promise.all([
        prefetch(
            trpc.listCoachingOfferings.queryOptions({}),
        ),
    ]);

    return (
        <HydrateClient>
            <Suspense fallback={<DefaultLoadingWrapper />}>
                <CoachingOffering
                    locale={props.locale}
                    platformSlug={props.platformSlug}
                    language={props.language}
                />
            </Suspense>
        </HydrateClient>
    );
}

'use client';

// Auto-generated by page-scaffold command v2
// Notion: https://www.notion.so/CMS-Single-user-Manage-Users-13a5a7432d018065bea7fcc7370b0adf
// Usecases from Notion: getPersonalProfile, getProfessionalProfile, listStudentCourses, listCoachReviews, listUserRoles, listCoachCourses, updateUserRoles
// Features from Notion: Personal Profile, Professional Profile, Student Courses, Coach Courses, Coach Reviews, User Roles Management
// User Types from Notion: CMS (admin/superadmin)
// Figma: https://www.figma.com/design/8KEwRuOoD5IgxTtFAtLlyS/Just_Do_Ad-1.2?node-id=8441-211961&t=VMezG7e44vUaPrMu-4
// Comments from Notion:
// Change: similar to the Coach Profile page (visitor)
// DECISION: we won't let admins change personal & professional details of users
// For Students: only render PersonalProfile, StudentCourses, Roles
// For Coach and higher: PersonalProfile, ProfessionalProfile, StudentCourses, CoachCourses, CoachReviews, Roles

import { useLocale, useTranslations } from 'next-intl';
import { TLocale } from '@maany_shr/e-class-translations';
import { z } from 'zod';

interface SingleUserProps {
  locale: TLocale;
  platformSlug: string;
  platformLocale: TLocale;
  username: string;
}

// Type definition for updateUserRoles request (NOT YET IMPLEMENTED)
// TODO: Wire updateUserRoles once usecase is implemented
export const UpdateUserRolesRequestSchema = z.object({
  username: z.string(),
  role: z.enum(['student', 'coach', 'course-creator', 'admin']),
});

export type TUpdateUserRolesRequest = z.infer<typeof UpdateUserRolesRequestSchema>;

export default function SingleUser({ locale, platformSlug, platformLocale, username }: SingleUserProps) {
  const t = useTranslations('pages.singleUser');
  const currentLocale = useLocale() as TLocale;

  return (
    <div className="flex flex-col space-y-5 px-30">
      <div>
        <h1>{t('title')}</h1>
        <p>{t('description')}</p>
      </div>

      {/* Features from Notion:
        - Personal Profile
        - Professional Profile
        - Student Courses
        - Coach Courses
        - Coach Reviews
        - User Roles Management
      */}

      {/* Sections to implement:
        - {t('personalProfile')}
        - {t('professionalProfile')}
        - {t('studentCourses')}
        - {t('coachCourses')}
        - {t('coachReviews')}
        - {t('roles')}
      */}
    </div>
  );
}
